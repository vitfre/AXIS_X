/*
 * menu.c
 *
 * Created: 08.11.2013 12:39:55
 *  Author: Администратор
 */ 

#include "menu.h"

//---------------------------------------------------------------------------------------
char const _cel1_[]			PROGMEM = ">";
char const _cel2_[]			PROGMEM = "<";
char const _MINUS_[]		PROGMEM = "-";
char const _PLUSE_[]		PROGMEM = "+";
char const _EQVIVALENT_[]	PROGMEM = "=";
char const _DECIMAL_[]		PROGMEM = ",";
//---------------------------------------------------------------------------------------
char const _SPEED_1_[]	PROGMEM = "SPEED1 ";
char const _SPEED_2_[]	PROGMEM = "SPEED2 ";
char const _LENGLH_[]	PROGMEM = "LENGLH =";
char const _MM_MIN_[]	PROGMEM = "(mm/m)";
char const _RP_MM_[]	PROGMEM = "(deg/mm)";
char const _MM_[]		PROGMEM = "(mm)";
//---------------------------------------------------------------------------------------
char const _WORK_10_TIT_ []	PROGMEM = "  WORK  PROFILE  1  ";
char const _WORK_20_TIT_ []	PROGMEM = "  WORK  PROFILE  2  ";
char const _WORK_30_TIT_ []	PROGMEM = "  WORK  PROFILE  3  ";
char const _WORK_40_TIT_ []	PROGMEM = "  WORK  PROFILE  4  ";
char const _WORK_50_TIT_ []	PROGMEM = "  WORK  PROFILE  5  ";
char const _WORK_60_TIT_ []	PROGMEM = "  WORK  PROFILE  6  ";
char const _WORK_70_TIT_ []	PROGMEM = "  WORK  PROFILE  7  ";
char const _WORK_80_TIT_ []	PROGMEM = "  WORK  PROFILE  8  ";
char const _WORK_90_TIT_ []	PROGMEM = "  WORK  PROFILE  9  ";
//---------------------------------------------------------------------------------------
char const _PROFILE_10_TIT_ []	PROGMEM = "    PROFILE    1    ";
char const _PROFILE_20_TIT_ []	PROGMEM = "    PROFILE    2    ";
char const _PROFILE_30_TIT_ []	PROGMEM = "    PROFILE    3    ";
char const _PROFILE_40_TIT_ []	PROGMEM = "    PROFILE    4    ";
char const _PROFILE_50_TIT_ []	PROGMEM = "    PROFILE    5    ";
char const _PROFILE_60_TIT_ []	PROGMEM = "    PROFILE    6    ";
char const _PROFILE_70_TIT_ []	PROGMEM = "    PROFILE    7    ";
char const _PROFILE_80_TIT_ []	PROGMEM = "    PROFILE    8    ";
char const _PROFILE_90_TIT_ []	PROGMEM = "    PROFILE    9    ";
char const _NULL_ []	PROGMEM = "                    ";
//---------------------------------------------------------------------------------------
char const _MENU_TOL_[]		PROGMEM = "UP     DOWN   SELECT";
char const _MENU_TOL2_[]	PROGMEM = "UP     DOWN   -    +";
char const _MENU_TOL3_[]	PROGMEM = "SAVE    UP  DOWN  OK";
//---------------------------------------------------------------------------------------
//****************************************************************************************
void Main_menu (unsigned char parent,unsigned char child,unsigned int length,unsigned int speed_1,unsigned int speed_2)
{
	//---------------------------------------------------------------------------------------
	float temp=0;
	//---------------------------------------------------------------------------------------
	switch (parent) 
	{
		//---------------------------------------------------------------------------------------
		case 0x00 : 
		{
			//---------------------------------------------------------------------------------------
			switch (child)
			{
				//---------------------------------------------------------------------------------------
				case 0x00 :
				{
					//---------------------------------------------------------------------------------------

					//---------------------------------------------------------------------------------------
				};
				break;
				//---------------------------------------------------------------------------------------
				case 0x01 :
				{
					//---------------------------------------------------------------------------------------
					//---------------------------------------------------------------------------------------
					set_lcd_position(1,1);
					send_lcd_string_P(_PROFILE_10_TIT_);				// Виводим на дисплей
					set_lcd_position(2,1);
					send_lcd_string_P(_PROFILE_20_TIT_);				// Виводим на дисплей
					set_lcd_position(3,1);
					send_lcd_string_P(_PROFILE_30_TIT_);				// Виводим на дисплей
					//---------------------------------------------------------------------------------------
					set_lcd_position(1,1);
					send_lcd_string_P(_cel1_);
					set_lcd_position(1,20);
					send_lcd_string_P(_cel2_);
					//---------------------------------------------------------------------------------------
					set_lcd_position(4,1);
					send_lcd_string_P(_MENU_TOL_);
					//---------------------------------------------------------------------------------------
					//---------------------------------------------------------------------------------------
				};
				break;
				//---------------------------------------------------------------------------------------
				case 0x02 :
				{
					//---------------------------------------------------------------------------------------
					set_lcd_position(1,1);
					send_lcd_string_P(_PROFILE_20_TIT_);				// Виводим на дисплей
					set_lcd_position(2,1);
					send_lcd_string_P(_PROFILE_30_TIT_);				// Виводим на дисплей
					set_lcd_position(3,1);
					send_lcd_string_P(_PROFILE_40_TIT_);				// Виводим на дисплей
					//---------------------------------------------------------------------------------------
					set_lcd_position(1,1);
					send_lcd_string_P(_cel1_);
					set_lcd_position(1,20);
					send_lcd_string_P(_cel2_);
					//---------------------------------------------------------------------------------------
					set_lcd_position(4,1);
					send_lcd_string_P(_MENU_TOL_);
					//---------------------------------------------------------------------------------------

				};
				break;
				//---------------------------------------------------------------------------------------
				case 0x03 :
				{
					//---------------------------------------------------------------------------------------
					set_lcd_position(1,1);
					send_lcd_string_P(_PROFILE_30_TIT_);				// Виводим на дисплей
					set_lcd_position(2,1);
					send_lcd_string_P(_PROFILE_40_TIT_);				// Виводим на дисплей
					set_lcd_position(3,1);
					send_lcd_string_P(_PROFILE_50_TIT_);				// Виводим на дисплей
					//---------------------------------------------------------------------------------------
					set_lcd_position(1,1);
					send_lcd_string_P(_cel1_);
					set_lcd_position(1,20);
					send_lcd_string_P(_cel2_);
					//---------------------------------------------------------------------------------------
					set_lcd_position(4,1);
					send_lcd_string_P(_MENU_TOL_);
					//---------------------------------------------------------------------------------------

				};
				break;
				//---------------------------------------------------------------------------------------
				case 0x04 :
				{
					//---------------------------------------------------------------------------------------
					set_lcd_position(1,1);
					send_lcd_string_P(_PROFILE_40_TIT_);				// Виводим на дисплей
					set_lcd_position(2,1);
					send_lcd_string_P(_PROFILE_50_TIT_);				// Виводим на дисплей
					set_lcd_position(3,1);
					send_lcd_string_P(_PROFILE_60_TIT_);				// Виводим на дисплей
					//---------------------------------------------------------------------------------------
					set_lcd_position(1,1);
					send_lcd_string_P(_cel1_);
					set_lcd_position(1,20);
					send_lcd_string_P(_cel2_);
					//---------------------------------------------------------------------------------------
					set_lcd_position(4,1);
					send_lcd_string_P(_MENU_TOL_);
					//---------------------------------------------------------------------------------------

				};
				break;
				//---------------------------------------------------------------------------------------
				case 0x05 :
				{
					//---------------------------------------------------------------------------------------
					set_lcd_position(1,1);
					send_lcd_string_P(_PROFILE_50_TIT_);				// Виводим на дисплей
					set_lcd_position(2,1);
					send_lcd_string_P(_PROFILE_60_TIT_);				// Виводим на дисплей
					set_lcd_position(3,1);
					send_lcd_string_P(_PROFILE_70_TIT_);				// Виводим на дисплей
					//---------------------------------------------------------------------------------------
					set_lcd_position(1,1);
					send_lcd_string_P(_cel1_);
					set_lcd_position(1,20);
					send_lcd_string_P(_cel2_);
					//---------------------------------------------------------------------------------------
					set_lcd_position(4,1);
					send_lcd_string_P(_MENU_TOL_);
					//---------------------------------------------------------------------------------------

				};
				break;
				//---------------------------------------------------------------------------------------
				case 0x06 :
				{
					//---------------------------------------------------------------------------------------
					set_lcd_position(1,1);
					send_lcd_string_P(_PROFILE_60_TIT_);				// Виводим на дисплей
					set_lcd_position(2,1);
					send_lcd_string_P(_PROFILE_70_TIT_);				// Виводим на дисплей
					set_lcd_position(3,1);
					send_lcd_string_P(_PROFILE_80_TIT_);				// Виводим на дисплей
					//---------------------------------------------------------------------------------------
					set_lcd_position(1,1);
					send_lcd_string_P(_cel1_);
					set_lcd_position(1,20);
					send_lcd_string_P(_cel2_);
					//---------------------------------------------------------------------------------------
					set_lcd_position(4,1);
					send_lcd_string_P(_MENU_TOL_);
					//---------------------------------------------------------------------------------------

				};
				break;
				//---------------------------------------------------------------------------------------
				case 0x07 :
				{
					//---------------------------------------------------------------------------------------
					set_lcd_position(1,1);
					send_lcd_string_P(_PROFILE_70_TIT_);				// Виводим на дисплей
					set_lcd_position(2,1);
					send_lcd_string_P(_PROFILE_80_TIT_);				// Виводим на дисплей
					set_lcd_position(3,1);
					send_lcd_string_P(_PROFILE_90_TIT_);				// Виводим на дисплей
					//---------------------------------------------------------------------------------------
					set_lcd_position(1,1);
					send_lcd_string_P(_cel1_);
					set_lcd_position(1,20);
					send_lcd_string_P(_cel2_);
					//---------------------------------------------------------------------------------------
					set_lcd_position(4,1);
					send_lcd_string_P(_MENU_TOL_);
					//---------------------------------------------------------------------------------------

				};
				break;
				//---------------------------------------------------------------------------------------
				case 0x08 :
				{
					//---------------------------------------------------------------------------------------
					set_lcd_position(1,1);
					send_lcd_string_P(_PROFILE_70_TIT_);				// Виводим на дисплей
					set_lcd_position(2,1);
					send_lcd_string_P(_PROFILE_80_TIT_);				// Виводим на дисплей
					set_lcd_position(3,1);
					send_lcd_string_P(_PROFILE_90_TIT_);				// Виводим на дисплей
					//---------------------------------------------------------------------------------------
					set_lcd_position(2,1);
					send_lcd_string_P(_cel1_);
					set_lcd_position(2,20);
					send_lcd_string_P(_cel2_);
					//---------------------------------------------------------------------------------------
					set_lcd_position(4,1);
					send_lcd_string_P(_MENU_TOL_);
					//---------------------------------------------------------------------------------------

				};
				break;
				//---------------------------------------------------------------------------------------
				case 0x09 :
				{
					//---------------------------------------------------------------------------------------
					set_lcd_position(1,1);
					send_lcd_string_P(_PROFILE_70_TIT_);				// Виводим на дисплей
					set_lcd_position(2,1);
					send_lcd_string_P(_PROFILE_80_TIT_);				// Виводим на дисплей
					set_lcd_position(3,1);
					send_lcd_string_P(_PROFILE_90_TIT_);				// Виводим на дисплей
					//---------------------------------------------------------------------------------------
					set_lcd_position(3,1);
					send_lcd_string_P(_cel1_);
					set_lcd_position(3,20);
					send_lcd_string_P(_cel2_);
					//---------------------------------------------------------------------------------------
					set_lcd_position(4,1);
					send_lcd_string_P(_MENU_TOL_);
					//---------------------------------------------------------------------------------------

				};
				break;
				//---------------------------------------------------------------------------------------
				default:
				{
					//---------------------------------------------------------------------------------------
					//---------------------------------------------------------------------------------------
				};	//default: //switch (child)
			};//switch (child)
			//---------------------------------------------------------------------------------------
		};
		break;
		//---------------------------------------------------------------------------------------
		case 0x01 :
		{
			//---------------------------------------------------------------------------------------
// 			set_lcd_position(2,1);
// 			send_lcd_string_P(_NULL_);				// Виводим на дисплей
// 			set_lcd_position(3,1);
// 			send_lcd_string_P(_NULL_);				// Виводим на дисплей
			//---------------------------------------------------------------------------------------
			switch (child)
			{
				//---------------------------------------------------------------------------------------
				case 0x00 :
				{
					//---------------------------------------------------------------------------------------

					//---------------------------------------------------------------------------------------
				};
				break;
				//---------------------------------------------------------------------------------------
				case 0x01 :
				{
					//---------------------------------------------------------------------------------------
					set_lcd_position(1,1);
					send_lcd_string_P(_PROFILE_10_TIT_);				// Виводим на дисплей
					//---------------------------------------------------------------------------------------
				};
				break;
				//---------------------------------------------------------------------------------------
				case 0x02 :
				{
					//---------------------------------------------------------------------------------------
					set_lcd_position(1,1);
					send_lcd_string_P(_PROFILE_20_TIT_);				// Виводим на дисплей
					//---------------------------------------------------------------------------------------

				};
				break;
				//---------------------------------------------------------------------------------------
				case 0x03 :
				{
					//---------------------------------------------------------------------------------------
					set_lcd_position(1,1);
					send_lcd_string_P(_PROFILE_30_TIT_);				// Виводим на дисплей
					//---------------------------------------------------------------------------------------

				};
				break;
				//---------------------------------------------------------------------------------------
				case 0x04 :
				{
					//---------------------------------------------------------------------------------------
					set_lcd_position(1,1);
					send_lcd_string_P(_PROFILE_40_TIT_);				// Виводим на дисплей
					//---------------------------------------------------------------------------------------

				};
				break;
				//---------------------------------------------------------------------------------------
				case 0x05 :
				{
					//---------------------------------------------------------------------------------------
					set_lcd_position(1,1);
					send_lcd_string_P(_PROFILE_50_TIT_);				// Виводим на дисплей
					//---------------------------------------------------------------------------------------

				};
				break;
				//---------------------------------------------------------------------------------------
				case 0x06 :
				{
					//---------------------------------------------------------------------------------------
					set_lcd_position(1,1);
					send_lcd_string_P(_PROFILE_60_TIT_);				// Виводим на дисплей
					//---------------------------------------------------------------------------------------

				};
				break;
				//---------------------------------------------------------------------------------------
				case 0x07 :
				{
					//---------------------------------------------------------------------------------------
					set_lcd_position(1,1);
					send_lcd_string_P(_PROFILE_70_TIT_);				// Виводим на дисплей
					//---------------------------------------------------------------------------------------

				};
				break;
				//---------------------------------------------------------------------------------------
				case 0x08 :
				{
					//---------------------------------------------------------------------------------------
					set_lcd_position(1,1);
					send_lcd_string_P(_PROFILE_80_TIT_);				// Виводим на дисплей
					//---------------------------------------------------------------------------------------

				};
				break;
				//---------------------------------------------------------------------------------------
				case 0x09 :
				{
					//---------------------------------------------------------------------------------------
					set_lcd_position(1,1);
					send_lcd_string_P(_PROFILE_90_TIT_);				// Виводим на дисплей
					//---------------------------------------------------------------------------------------

				};
				break;
				//---------------------------------------------------------------------------------------
				default:
				{
					//---------------------------------------------------------------------------------------
					//---------------------------------------------------------------------------------------
				};	//default: //switch (child)
			};//switch (child)
			//---------------------------------------------------------------------------------------
			set_lcd_position(4,1);
			send_lcd_string_P(_NULL_);				// Виводим на дисплей
			//---------------------------------------------------------------------------------------
			set_lcd_position(1,1);
			send_lcd_string_P(_cel1_);
			set_lcd_position(1,20);
			send_lcd_string_P(_cel2_);
			//---------------------------------------------------------------------------------------
			set_lcd_position(2,1);
			send_lcd_string_P(_SPEED_1_);				// Виводим на дисплей
			//---------------------------------------------------------------------------------------
			//speed_1=(float)(2.5*(float)speed_1);
			temp=(float)(2.5*(float)speed_1);
			detect_short_string(temp/100);
			send_lcd_string_P(_DECIMAL_);
			temp=10*(temp-(((unsigned int)temp/100)*100));
			detect_short_3_string(temp);
			//detect_short_string(speed_1%100);
			//---------------------------------------------------------------------------------------
			send_lcd_string_P(_MM_MIN_);				// Виводим на дисплей
			set_lcd_position(3,1);
			send_lcd_string_P(_SPEED_2_);				// Виводим на дисплей
			//---------------------------------------------------------------------------------------
			//speed_2=(speed_2*40)/9;
			temp=(speed_2*9)/40;
			detect_short_3_string(temp);
			//---------------------------------------------------------------------------------------
			send_lcd_string_P(_RP_MM_);				// Виводим на дисплей
			set_lcd_position(4,1);
			send_lcd_string_P(_LENGLH_);				// Виводим на дисплей
			//---------------------------------------------------------------------------------------
			//length=(float)(2.5*(float)length);
			temp=(float)(2.5*(float)length);
			detect_short_string(temp/100);
			send_lcd_string_P(_DECIMAL_);
			temp=10*(temp-(((unsigned int)temp/100)*100));
			detect_short_string(temp);
			//---------------------------------------------------------------------------------------
			send_lcd_string_P(_MM_);				// Виводим на дисплей			
			//---------------------------------------------------------------------------------------
		};
		break;
		//---------------------------------------------------------------------------------------
		case 0x02 :
		{
			//---------------------------------------------------------------------------------------
			switch (child)
			{
				//---------------------------------------------------------------------------------------
				case 0x00 :
				{
					//---------------------------------------------------------------------------------------

					//---------------------------------------------------------------------------------------
				};
				break;
				//---------------------------------------------------------------------------------------
				case 0x01 :
				{
					//---------------------------------------------------------------------------------------
					set_lcd_position(1,1);
					send_lcd_string_P(_WORK_10_TIT_);				// Виводим на дисплей
					//---------------------------------------------------------------------------------------
				};
				break;
				//---------------------------------------------------------------------------------------
				case 0x02 :
				{
					//---------------------------------------------------------------------------------------
					set_lcd_position(1,1);
					send_lcd_string_P(_WORK_20_TIT_);				// Виводим на дисплей
					//---------------------------------------------------------------------------------------

				};
				break;
				//---------------------------------------------------------------------------------------
				case 0x03 :
				{
					//---------------------------------------------------------------------------------------
					set_lcd_position(1,1);
					send_lcd_string_P(_WORK_30_TIT_);				// Виводим на дисплей
					//---------------------------------------------------------------------------------------

				};
				break;
				//---------------------------------------------------------------------------------------
				case 0x04 :
				{
					//---------------------------------------------------------------------------------------
					set_lcd_position(1,1);
					send_lcd_string_P(_WORK_40_TIT_);				// Виводим на дисплей
					//---------------------------------------------------------------------------------------

				};
				break;
				//---------------------------------------------------------------------------------------
				case 0x05 :
				{
					//---------------------------------------------------------------------------------------
					set_lcd_position(1,1);
					send_lcd_string_P(_WORK_50_TIT_);				// Виводим на дисплей
					//---------------------------------------------------------------------------------------

				};
				break;
				//---------------------------------------------------------------------------------------
				case 0x06 :
				{
					//---------------------------------------------------------------------------------------
					set_lcd_position(1,1);
					send_lcd_string_P(_WORK_60_TIT_);				// Виводим на дисплей
					//---------------------------------------------------------------------------------------

				};
				break;
				//---------------------------------------------------------------------------------------
				case 0x07 :
				{
					//---------------------------------------------------------------------------------------
					set_lcd_position(1,1);
					send_lcd_string_P(_WORK_70_TIT_);				// Виводим на дисплей
					//---------------------------------------------------------------------------------------

				};
				break;
				//---------------------------------------------------------------------------------------
				case 0x08 :
				{
					//---------------------------------------------------------------------------------------
					set_lcd_position(1,1);
					send_lcd_string_P(_WORK_80_TIT_);				// Виводим на дисплей
					//---------------------------------------------------------------------------------------

				};
				break;
				//---------------------------------------------------------------------------------------
				case 0x09 :
				{
					//---------------------------------------------------------------------------------------
					set_lcd_position(1,1);
					send_lcd_string_P(_WORK_90_TIT_);				// Виводим на дисплей
					//---------------------------------------------------------------------------------------

				};
				break;
				//---------------------------------------------------------------------------------------
				default:
				{
					//---------------------------------------------------------------------------------------
					//---------------------------------------------------------------------------------------
				};	//default: //switch (child)
			};//switch (child)
			//---------------------------------------------------------------------------------------
			set_lcd_position(4,1);
			send_lcd_string_P(_NULL_);				// Виводим на дисплей
			//---------------------------------------------------------------------------------------
			set_lcd_position(1,1);
			send_lcd_string_P(_cel1_);
			set_lcd_position(1,20);
			send_lcd_string_P(_cel2_);
			//---------------------------------------------------------------------------------------
			set_lcd_position(2,1);
			send_lcd_string_P(_SPEED_1_);				// Виводим на дисплей
			detect_short_3_string(speed_1);
			send_lcd_string_P(_MM_MIN_);				// Виводим на дисплей
			set_lcd_position(3,1);
			send_lcd_string_P(_SPEED_2_);				// Виводим на дисплей
			detect_short_3_string(speed_2);
			send_lcd_string_P(_RP_MM_);				// Виводим на дисплей
			set_lcd_position(4,1);
			send_lcd_string_P(_LENGLH_);				// Виводим на дисплей
			detect_short_3_string(length);
			send_lcd_string_P(_MM_);				// Виводим на дисплей
			//---------------------------------------------------------------------------------------
		};
		break;
		//---------------------------------------------------------------------------------------
		default:
		{
			//---------------------------------------------------------------------------------------
			//---------------------------------------------------------------------------------------
		};	//default: //switch (Com)
	};		//switch (Com)
};			//Main_menu
//*****************************************************************************************
//*****************************************************************************************
//*****************************************************************************************